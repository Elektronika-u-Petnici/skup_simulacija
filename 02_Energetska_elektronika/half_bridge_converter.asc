Version 4
SHEET 1 11460 3748
WIRE 656 272 480 272
WIRE 688 272 656 272
WIRE 1024 272 688 272
WIRE 1856 272 1760 272
WIRE 2112 272 1856 272
WIRE 2160 272 2112 272
WIRE 1024 304 1024 272
WIRE 1856 352 1856 272
WIRE 784 384 768 384
WIRE 848 384 784 384
WIRE 976 384 928 384
WIRE 1760 448 1760 272
WIRE 656 464 656 272
WIRE 800 464 768 464
WIRE 1024 464 1024 400
WIRE 1024 464 800 464
WIRE 1856 512 1856 416
WIRE 1024 528 1024 464
WIRE 656 640 656 528
WIRE 1024 656 1024 608
WIRE 1216 656 1024 656
WIRE 1360 656 1296 656
WIRE 1504 656 1424 656
WIRE 1760 656 1760 512
WIRE 1760 656 1584 656
WIRE 1360 704 1360 656
WIRE 1424 704 1424 656
WIRE 480 752 480 272
WIRE 2160 784 2160 272
WIRE 656 848 656 720
WIRE 1360 848 1360 784
WIRE 1360 848 656 848
WIRE 1424 848 1424 784
WIRE 1856 848 1856 592
WIRE 1856 848 1424 848
WIRE 256 896 128 896
WIRE 288 896 256 896
WIRE 1856 912 1856 848
WIRE 128 944 128 896
WIRE 656 944 656 848
WIRE 1024 944 1024 656
WIRE 1760 1008 1760 656
WIRE 800 1024 784 1024
WIRE 864 1024 800 1024
WIRE 976 1024 944 1024
WIRE 128 1056 128 1024
WIRE 256 1056 128 1056
WIRE 288 1056 256 1056
WIRE 1856 1088 1856 976
WIRE 256 1104 128 1104
WIRE 288 1104 256 1104
WIRE 656 1104 656 1008
WIRE 1024 1104 1024 1040
WIRE 128 1136 128 1104
WIRE 128 1264 128 1216
WIRE 480 1264 480 832
WIRE 656 1264 656 1184
WIRE 1024 1264 1024 1184
WIRE 1760 1264 1760 1072
WIRE 1856 1264 1856 1168
WIRE 2160 1264 2160 864
WIRE 1200 2240 1104 2240
WIRE 1328 2240 1200 2240
WIRE 2144 2240 2048 2240
WIRE 2272 2240 2144 2240
WIRE 1104 2288 1104 2240
WIRE 2048 2288 2048 2240
WIRE 1104 2384 1104 2368
WIRE 2048 2384 2048 2368
WIRE 1184 2464 1104 2464
WIRE 1264 2464 1184 2464
WIRE 2144 2464 2048 2464
WIRE 2272 2464 2144 2464
WIRE 1104 2512 1104 2464
WIRE 2048 2512 2048 2464
WIRE 1104 2608 1104 2592
WIRE 2048 2608 2048 2592
FLAG 128 1264 0
FLAG 1760 1264 0
FLAG 1024 1264 0
FLAG 480 1264 0
FLAG 800 1024 LS
FLAG 256 1104 LS
FLAG 656 1264 0
FLAG 688 272 vin
FLAG 2112 272 vout
FLAG 1104 2384 0
FLAG 1104 2608 0
FLAG 1200 2240 output_power
FLAG 1184 2464 input_power
FLAG 2048 2384 0
FLAG 2144 2240 efficiency
FLAG 2048 2608 0
FLAG 2144 2464 losses
FLAG 800 464 MID
FLAG 784 384 HS
FLAG 256 1056 MID
FLAG 256 896 HS
FLAG 1856 1264 0
FLAG 2160 1264 0
SYMBOL res 2144 768 R0
SYMATTR InstName R30
SYMATTR Value {Rload}
SYMBOL res 960 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 10
SYMBOL voltage 480 736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL cap 640 944 R0
SYMATTR InstName C2
SYMATTR Value 2.2µ
SYMBOL res 944 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL voltage 128 1120 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 72 96 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 12 0u 10n 10n {d / fsw} {1 / fsw})
SYMBOL res 1040 1088 M0
SYMATTR InstName R3
SYMATTR Value 1m
SYMBOL res 1040 512 M0
SYMATTR InstName R4
SYMATTR Value 1m
SYMBOL bv 1104 2272 R0
SYMATTR InstName B5
SYMATTR Value V= if(time >  start_time, idt(V(vout)*I(R30))/(time - start_time),0)
SYMBOL bv 1104 2496 R0
SYMATTR InstName B6
SYMATTR Value V=if(time > start_time, -idt(V(vin)*I(V1)) / (time - start_time),0)
SYMBOL bv 2048 2272 R0
SYMATTR InstName B7
SYMATTR Value V= min(max(V(output_power) / V(input_power),0), 1)
SYMBOL bv 2048 2496 R0
SYMATTR InstName B8
SYMATTR Value V=  V(input_power) - V(output_power)
SYMBOL res 1840 496 R0
SYMATTR InstName R1
SYMATTR Value 10m
SYMBOL res 1840 1072 R0
SYMATTR InstName R5
SYMATTR Value 10m
SYMBOL res 640 624 R0
SYMATTR InstName R6
SYMATTR Value 10m
SYMBOL res 640 1088 R0
SYMATTR InstName R7
SYMATTR Value 10m
SYMBOL voltage 128 928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -685 96 Left 2
SYMATTR Value PULSE(0 12 {1 / fsw / 2} 10n 10n {d / fsw} {1 / fsw})
SYMATTR InstName V5
SYMBOL nmos 976 944 R0
SYMATTR InstName M2
SYMATTR Value IRFZ44N
SYMBOL schottky 1776 512 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 640 464 R0
SYMATTR InstName C1
SYMATTR Value 2.2µ
SYMBOL cap 1840 352 R0
SYMATTR InstName C3
SYMATTR Value 2.2µ
SYMBOL cap 1840 912 R0
SYMATTR InstName C4
SYMATTR Value 2.2µ
SYMBOL schottky 1776 1072 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 976 304 R0
SYMATTR InstName M1
SYMATTR Value IRFZ44N
SYMBOL ind2 1376 688 M0
SYMATTR InstName L1
SYMATTR Value {Lprim}
SYMATTR Type ind
SYMBOL ind2 1408 688 R0
SYMATTR InstName L2
SYMATTR Value {Lsec}
SYMATTR Type ind
SYMBOL res 1312 672 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL res 1600 672 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1
TEXT -416 384 Left 2 !.tran 500u
TEXT -416 416 Left 2 !.param fsw = 500k
TEXT -416 448 Left 2 !.param d = 0.45
TEXT 1072 2136 Left 2 !.param start_time = 1m
TEXT -416 512 Left 2 !.param Rload = 50
TEXT 1304 872 Left 2 !K1 L1 L2 0.999
TEXT -416 480 Left 2 !.param Lprim = 200u Lsec=200u
